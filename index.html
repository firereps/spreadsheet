<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Panel dodawania przedmiotów</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background: #f5f5f5;
    margin: 0;
    padding: 20px;
  }
  h1 {
    margin-bottom: 20px;
  }
  form {
    background: white;
    padding: 20px;
    border-radius: 8px;
    max-width: 400px;
    box-shadow: 0 0 8px rgba(0,0,0,0.1);
  }
  form input {
    width: 100%;
    padding: 10px;
    margin-top: 10px;
    margin-bottom: 20px;
    border: 1px solid #ccc;
    border-radius: 4px;
    font-size: 16px;
    box-sizing: border-box;
  }
  form button {
    background-color: #0a74da;
    color: white;
    font-size: 16px;
    padding: 10px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
  }
  form button:hover {
    background-color: #095bb5;
  }
  #items-container {
    margin-top: 30px;
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
  }
  .item-card {
    background: white;
    border-radius: 8px;
    box-shadow: 0 0 8px rgba(0,0,0,0.1);
    width: 220px;
    padding: 15px;
    box-sizing: border-box;
  }
  .item-card img {
    width: 100%;
    border-radius: 6px;
    margin-bottom: 12px;
  }
  .item-card h3 {
    margin: 0 0 8px 0;
    font-size: 18px;
  }
  .item-card p {
    margin: 0 0 10px 0;
    color: #555;
  }
  .item-card a {
    color: #0a74da;
    text-decoration: none;
    word-break: break-all;
  }
  .item-card a:hover {
    text-decoration: underline;
  }
</style>
</head>
<body>

<h1>Panel dodawania przedmiotów</h1>

<form id="item-form">
  <input type="text" id="item-name" placeholder="Nazwa przedmiotu" required />
  <input type="text" id="item-desc" placeholder="Opis przedmiotu" required />
  <input type="url" id="item-link" placeholder="Link do przedmiotu" required />
  <input type="url" id="item-image" placeholder="Link do zdjęcia (np. z Imgur)" required />
  <button type="submit">Dodaj przedmiot</button>
</form>

<div id="items-container"></div>

<script>
  const form = document.getElementById('item-form');
  const itemsContainer = document.getElementById('items-container');

  // wczytaj itemy z localStorage albo pusta tablica
  let items = JSON.parse(localStorage.getItem('items') || '[]');

  // funkcja renderujaca itemy w kontenerze
  function renderItems() {
    itemsContainer.innerHTML = '';
    items.forEach(item => {
      const card = document.createElement('div');
      card.className = 'item-card';

      const img = document.createElement('img');
      img.src = item.image;
      img.alt = item.name;
      card.appendChild(img);

      const title = document.createElement('h3');
      title.textContent = item.name;
      card.appendChild(title);

      const desc = document.createElement('p');
      desc.textContent = item.description;
      card.appendChild(desc);

      const link = document.createElement('a');
      link.href = item.link;
      link.textContent = item.link;
      link.target = '_blank';
      card.appendChild(link);

      itemsContainer.appendChild(card);
    });
  }

  // pokaz itemy od razu po ladowaniu strony
  renderItems();

  // obsluga dodawania przedmiotu
  form.addEventListener('submit', e => {
    e.preventDefault();

    const newItem = {
      name: form['item-name'].value.trim(),
      description: form['item-desc'].value.trim(),
      link: form['item-link'].value.trim(),
      image: form['item-image'].value.trim()
    };

    if(!newItem.name || !newItem.description || !newItem.link || !newItem.image) {
      alert('wypelnij wszystkie pola ziomek');
      return;
    }

    items.push(newItem);

    // zapisz w localStorage
    localStorage.setItem('items', JSON.stringify(items));

    // wyczysc formularz
    form.reset();

    // odswiez kafelki
    renderItems();
  });
</script>

</body>
</html>
